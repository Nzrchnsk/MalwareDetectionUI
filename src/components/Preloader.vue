<template>
  <div class="page-loader-wrapper" v-if="isActive">
    <div class="shadow-lg mb-2 rounded">
      <div class="page-loader " >
        <div class="spinner">
          <font-awesome-icon style="width: 150px;height: 150px" :icon="['fas', 'spinner']"/>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
export default {
  name: "Preloader",
  data: () => {
    return {
      isActive: true
    }
  },
  makeAlert(){
    alert("Файл не заражен!")
  },

  mounted() {
    localStorage.setItem('loader', 'false');
    setInterval(this.makeAlert, 500);
    this.isActive = false;
    // document.onreadystatechange = () => {
    //   if (document.readyState == "complete") {
    //     this.isloaded = true;
    //   }
    // }
  },
}

</script>

<style scoped>
.page-loader {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 30vw;
  height: 30vh;
  background-color: #292D30;
}

.page-loader-wrapper{
  z-index: 999;
  position: fixed;
  top: calc(100vh/2 - 15vh);
  left: calc(100vw/2 - 15vw);
  width: 30vw;
  height: 30vh;
}

.spinner {
  height: 150px;
  width: 150px;
  color: white;
  animation-name: spin;
  animation-duration: 5000ms;
  animation-iteration-count: infinite;
  animation-timing-function: linear;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
</style>